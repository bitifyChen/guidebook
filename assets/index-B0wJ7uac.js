import{k as y,u as C,n as V,q as I,c as r,a as e,b as n,d as p,g as f,F as x,r as g,h as $,o as d,t as c,w as h,e as b,C as D,x as M,y as S}from"./index-LzEs5vd4.js";import{b as k}from"./route-block-B_A1xBdJ.js";/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=y("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=y("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=y("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),T={class:"min-h-screen bg-slate-50 pb-20"},A={class:"bg-white/80 backdrop-blur-md sticky top-0 z-30 border-b border-slate-100 p-6"},j={class:"max-w-4xl mx-auto flex justify-between items-center"},B={class:"max-w-4xl mx-auto p-6 space-y-8"},N={class:"bg-white rounded-[32px] p-6 shadow-sm border border-slate-100"},Y={class:"text-sm font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2"},E={class:"grid grid-cols-2 md:grid-cols-5 gap-3"},F={class:"text-[10px] font-black text-slate-400 mb-1"},O=["onUpdate:modelValue"],R={class:"p-4"},q={class:"text-lg font-black text-slate-800 px-2 flex items-center gap-2"},H={class:"grid gap-3"},J={class:"w-10 h-10 bg-slate-100 rounded-2xl flex items-center justify-center font-black text-slate-400 text-sm"},G=["onClick"],K={class:"font-black text-slate-700 leading-tight"},P={class:"text-[10px] font-bold text-slate-400"},Q={class:"flex gap-2 items-center"},W={class:"flex flex-col items-center bg-slate-50 rounded-xl p-1 px-2 border border-slate-100"},X=["onUpdate:modelValue","onChange"],Z={class:"flex flex-col items-center bg-orange-50 rounded-xl p-1 px-2 border border-orange-100"},ee=["onUpdate:modelValue","onChange"],te=["onClick"],se={__name:"index",setup(oe){const u=$(),i=C(),_=V();I(()=>i.init());const v=a=>i.itinerary.filter(t=>t.day===a).sort((t,o)=>t.order-o.order),m=async a=>{try{await S(a.id,{duration:a.duration,delay:a.delay}),console.log(`✅ 已更新 ${a.location} 的時間設定`)}catch(t){alert("更新失敗："+t.message)}},w=async()=>{try{await M("dayConfigs",{list:i.config}),console.log("✅ 每日起始時間已同步")}catch{alert("Config 更新失敗")}};return(a,t)=>(d(),r("div",T,[e("header",A,[e("div",j,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-xl font-black text-slate-800"},"Jeju Admin"),e("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest"}," Itinerary Management ")],-1)),e("button",{onClick:t[0]||(t[0]=o=>{n(_).logout(),n(u).push("/admin/login")}),class:"p-2 text-slate-300 hover:text-red-400"},[p(n(L),{size:20})])])]),e("main",B,[e("section",N,[e("h2",Y,[p(n(z),{size:16}),t[3]||(t[3]=f(" Start Time Config ",-1))]),e("div",E,[(d(!0),r(x,null,g(n(i).config,o=>(d(),r("div",{key:o.day,class:"p-3 bg-slate-50 rounded-2xl border border-slate-100"},[e("div",F," DAY "+c(o.day),1),h(e("input",{"onUpdate:modelValue":s=>o.start=s,type:"time",onChange:w,class:"bg-transparent font-mono font-black text-slate-700 w-full outline-none"},null,40,O),[[b,o.start]])]))),128))])]),e("div",R,[e("button",{onClick:t[1]||(t[1]=o=>n(u).push("/admin/item/add")),class:"w-full py-3 bg-orange-500 text-white rounded-2xl font-black shadow-lg shadow-orange-200 active:scale-95 transition-all"}," 添加行程 ")]),(d(!0),r(x,null,g(n(i).totalDays,o=>(d(),r("div",{key:o,class:"space-y-4"},[e("h3",q,[p(n(U),{size:18,class:"text-orange-500"}),f(" Day "+c(o),1)]),e("div",H,[(d(!0),r(x,null,g(v(o),s=>(d(),r("div",{key:s.id,class:"bg-white p-4 rounded-3xl border border-slate-100 flex items-center gap-4 hover:shadow-md transition-shadow cursor-pointer"},[e("div",J,c(s.order),1),e("div",{class:"flex-1",onClick:l=>n(u).push(`/admin/item/${s.id}`)},[e("div",K,c(s.location),1),e("div",P,c(s.category),1)],8,G),e("div",Q,[e("div",W,[t[4]||(t[4]=e("span",{class:"text-[8px] font-black text-slate-400"},"STAY",-1)),h(e("input",{"onUpdate:modelValue":l=>s.duration=l,type:"number",onChange:l=>m(s),class:"w-10 bg-transparent text-center font-mono font-black text-slate-600 outline-none"},null,40,X),[[b,s.duration,void 0,{number:!0}]])]),e("div",Z,[t[5]||(t[5]=e("span",{class:"text-[8px] font-black text-orange-400"},"DELAY",-1)),h(e("input",{"onUpdate:modelValue":l=>s.delay=l,type:"number",onChange:l=>m(s),class:"w-10 bg-transparent text-center font-mono font-black text-orange-600 outline-none"},null,40,ee),[[b,s.delay,void 0,{number:!0}]])]),e("button",{onClick:l=>n(u).push(`/admin/item/${s.id}`),class:"p-2 text-slate-300 hover:text-orange-500 transition-colors"},[p(n(D),{size:20})],8,te)])]))),128))])]))),128))])]))}};typeof k=="function"&&k(se);export{se as default};
