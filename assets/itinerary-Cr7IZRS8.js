import{k as v,u as _,m as k,c as l,a as e,b as o,d as c,F as h,r as b,h as w,o as d,g as C,t as u,w as m,e as f,C as $,y as V}from"./index-D6r3qpis.js";import{b as g}from"./route-block-B_A1xBdJ.js";import{C as D}from"./chevron-left-B7Qth0-G.js";import{P as I}from"./plus-XK8OBCJ0.js";/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=v("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),M={class:"min-h-screen bg-slate-50 pb-20"},j={class:"p-6 sticky top-0 bg-slate-50/80 backdrop-blur-md z-40 flex items-center justify-between"},L={class:"max-w-4xl mx-auto p-6 space-y-8"},S={class:"text-lg font-black text-slate-800 px-2 flex items-center gap-2"},T={class:"grid gap-3"},U={class:"w-10 h-10 bg-slate-100 rounded-2xl flex items-center justify-center font-black text-slate-400 text-sm"},B=["onClick"],N={class:"font-black text-slate-700 leading-tight"},A={class:"text-[10px] font-bold text-slate-400"},E={class:"flex gap-2 items-center"},F={class:"flex flex-col items-center bg-slate-50 rounded-xl p-1 px-2 border border-slate-100"},P=["onUpdate:modelValue","onChange"],R={class:"flex flex-col items-center bg-orange-50 rounded-xl p-1 px-2 border border-orange-100"},Y=["onUpdate:modelValue","onChange"],q=["onClick"],G={__name:"itinerary",setup(H){const i=w(),p=_();k(()=>p.init());const y=r=>p.itinerary.filter(t=>t.day===r).sort((t,n)=>t.order-n.order),x=async r=>{try{await V(r.id,{duration:r.duration,delay:r.delay})}catch(t){alert("更新失敗："+t.message)}};return(r,t)=>(d(),l("div",M,[e("nav",j,[e("button",{onClick:t[0]||(t[0]=n=>o(i).push("/admin")),class:"w-10 h-10 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100"},[c(o(D),{size:20})]),t[2]||(t[2]=e("h2",{class:"font-black text-slate-800 text-lg"},"行程進度管理",-1)),e("button",{onClick:t[1]||(t[1]=n=>o(i).push("/admin/item/add")),class:"w-10 h-10 bg-orange-500 text-white rounded-2xl flex items-center justify-center shadow-sm"},[c(o(I),{size:20})])]),e("main",L,[(d(!0),l(h,null,b(o(p).totalDays,n=>(d(),l("div",{key:n,class:"space-y-4"},[e("h3",S,[c(o(z),{size:18,class:"text-orange-500"}),C(" Day "+u(n),1)]),e("div",T,[(d(!0),l(h,null,b(y(n),s=>(d(),l("div",{key:s.id,class:"bg-white p-4 rounded-3xl border border-slate-100 flex items-center gap-4"},[e("div",U,u(s.order),1),e("div",{class:"flex-1",onClick:a=>o(i).push(`/admin/item/${s.id}`)},[e("div",N,u(s.location),1),e("div",A,u(s.category),1)],8,B),e("div",E,[e("div",F,[t[3]||(t[3]=e("span",{class:"text-[8px] font-black text-slate-400"},"STAY",-1)),m(e("input",{"onUpdate:modelValue":a=>s.duration=a,type:"number",onChange:a=>x(s),class:"w-10 bg-transparent text-center font-mono font-black text-slate-600 outline-none"},null,40,P),[[f,s.duration,void 0,{number:!0}]])]),e("div",R,[t[4]||(t[4]=e("span",{class:"text-[8px] font-black text-orange-400"},"DELAY",-1)),m(e("input",{"onUpdate:modelValue":a=>s.delay=a,type:"number",onChange:a=>x(s),class:"w-10 bg-transparent text-center font-mono font-black text-orange-600 outline-none"},null,40,Y),[[f,s.delay,void 0,{number:!0}]])]),e("button",{onClick:a=>o(i).push(`/admin/item/${s.id}`),class:"p-2 text-slate-300 hover:text-orange-500"},[c(o($),{size:20})],8,q)])]))),128))])]))),128))])]))}};typeof g=="function"&&g(G);export{G as default};
